<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Untitled</title>

    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.1.226/styles/kendo.common.min.css">
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.1.226/styles/kendo.rtl.min.css">
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.1.226/styles/kendo.default.min.css">
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.1.226/styles/kendo.mobile.all.min.css">

    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://kendo.cdn.telerik.com/2016.1.226/js/angular.min.js"></script>
    <script src="http://kendo.cdn.telerik.com/2016.1.226/js/jszip.min.js"></script>
    <script src="http://kendo.cdn.telerik.com/2016.1.226/js/kendo.all.min.js"></script>
    <script src="http://kendo.cdn.telerik.com/2016.1.226/js/kendo.aspnetmvc.min.js"></script>
    <script src="/static/kendo.data.odata-v4-batch.js"></script>
  </head>
  <body>
    <div id="grid"></div>
    <script>
      $('#grid').kendoGrid({
        editable: true,
        toolbar: ['create', 'save', 'cancel'],
        columns: [
          {
            field: 'Name'
          },
          {
            field: 'AirlineCode'
          },
          {
            command: ['destroy']
          }
        ],
        sortable: true,
        dataSource: {
          type: 'odata-v4',
          batch: true,
          serverSorting: true,
          schema: {
            model: {
              id: 'AirlineCode'
            },
            fields: {
              Name: { required: true },
              AirlineCode: { required: true }
            }
          },
          transport: {
            read: {
              url: '/V4/(S(lqkaw1wt5qdcwrj1stniy0nc))/TripPinServiceRW/Airlines'
            },
            create: {
              url: "http://services.odata.org/V4/(S(lqkaw1wt5qdcwrj1stniy0nc))/TripPinServiceRW/Airlines"
            },
            update: {
              url: function(item) {
                return "http://services.odata.org/V4/(S(lqkaw1wt5qdcwrj1stniy0nc))/TripPinServiceRW/Airlines('" + item.AirlineCode + "')";
              }
            },
            destroy: {
              url: function(item) {
                return "http://services.odata.org/V4/(S(lqkaw1wt5qdcwrj1stniy0nc))/TripPinServiceRW/Airlines('" + item.AirlineCode + "')";
              }
            }
          }
        }
      });
    </script>
  </body>
</html>
