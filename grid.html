<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Untitled</title>

    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.1.226/styles/kendo.common.min.css">
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.1.226/styles/kendo.rtl.min.css">
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.1.226/styles/kendo.default.min.css">
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.1.226/styles/kendo.mobile.all.min.css">

    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://kendo.cdn.telerik.com/2016.1.226/js/jszip.min.js"></script>
    <script src="http://kendo.cdn.telerik.com/2016.1.226/js/kendo.all.min.js"></script>
    <script src="http://kendo.cdn.telerik.com/2016.1.226/js/kendo.aspnetmvc.min.js"></script>
    <script src="./static/kendo.data.odata-batch.js"></script>
  </head>
  <body>
    <div id="leasingGrid"></div>
    <script>
      function numeral(value) {
        return {
          format: function(format) {
            return value;
          }
        }
      }

      jQuery("#leasingGrid").kendoGrid({
        /*
           "dataBound": ledgersGridDataBound,
           "edit": ledgersGridEdit,
           "saveChanges": handleGridSaveChanges,
         */
        "columns": [{
          "title": "Floor Plan",
          "headerAttributes": {
            "data-field": "FloorPlan.Name",
            "data-title": "Floor Plan",
            "data-groupable": "false"
          },
          "width": "160px",
          "locked": true,
          "field": "FloorPlan.Name",
          "groupable": false,
          "encoded": true
        }, {
          "title": "\u003ci class=\u0027icon-advancedrei-bed\u0027\u003e\u003c/i\u003e",
          "attributes": {
            "style": "text-align:center;"
          },
          "headerAttributes": {
            "style": "text-align:center;",
            "data-field": "FloorPlan.Bedrooms",
            "data-title": "\u0026lt;i class=\u0026#39;icon-advancedrei-bed\u0026#39;\u003e\u0026lt;/i\u003e",
            "data-groupable": "false"
          },
          "width": "40px",
          "template": "#: numeral(FloorPlan.Bedrooms).format(\u00270,0\u0027) #",
          "locked": true,
          "field": "FloorPlan.Bedrooms",
          "groupable": false,
          "encoded": true
        }, {
          "title": "\u003ci class=\u0027icon-advancedrei-toilet\u0027\u003e\u003c/i\u003e",
          "attributes": {
            "style": "text-align:center;"
          },
          "headerAttributes": {
            "style": "text-align:center;",
            "data-field": "FloorPlan.Bathrooms",
            "data-title": "\u0026lt;i class=\u0026#39;icon-advancedrei-toilet\u0026#39;\u003e\u0026lt;/i\u003e",
            "data-groupable": "false"
          },
          "width": "45px",
          "template": "#: numeral(FloorPlan.Bathrooms).format(\u00270,0[.][0]\u0027) #",
          "locked": true,
          "field": "FloorPlan.Bathrooms",
          "groupable": false,
          "encoded": true
        }, {
          "title": "SqFt",
          "attributes": {
            "style": "text-align:right;"
          },
          "headerAttributes": {
            "style": "text-align:center;",
            "data-field": "FloorPlan.SquareFootage",
            "data-title": "SqFt",
            "data-groupable": "false"
          },
          "width": "60px",
          "locked": true,
          "field": "FloorPlan.SquareFootage",
          "groupable": false,
          "encoded": true
        }, {
          "title": "Market Rent",
          "attributes": {
            "style": "text-align:right;"
          },
          "headerAttributes": {
            "data-field": "MarketRent",
            "data-title": "Market Rent",
            "data-groupable": "false"
          },
          "width": "125px",
          "lockable": false,
          "field": "MarketRent",
          "format": "{0:C0}",
          "groupable": false,
          "encoded": true,
          "editor": "\u003cinput data-val=\"true\" data-val-number=\"The field Market Rent must be a number.\" data-val-required=\"The Market Rent field is required.\" id=\"MarketRent\" min=\"0\" name=\"MarketRent\" step=\"25\" style=\"width:100%\" type=\"text\" value=\"0\" /\u003e\u003cscript\u003e\r\n\tjQuery(function(){jQuery(\"#MarketRent\").kendoNumericTextBox({\"format\":\"c0\",\"decimals\":0});});\r\n\u003c/script\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"MarketRent\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"
        }, {
          "title": "Rent Change (%/Y)",
          "attributes": {
            "style": "text-align:right;"
          },
          "headerAttributes": {
            "data-field": "RentInflation",
            "data-title": "Rent Change (%/Y)",
            "data-groupable": "false"
          },
          "width": "145px",
          "lockable": false,
          "field": "RentInflation",
          "format": "{0:P2}",
          "groupable": false,
          "encoded": true,
          "editor": "\u003cinput data-val=\"true\" data-val-number=\"The field Rent Inflation must be a number.\" data-val-required=\"The Rent Inflation field is required.\" id=\"RentInflation\" max=\"10\" min=\"0\" name=\"RentInflation\" step=\"0.0025\" style=\"width:100%\" type=\"text\" value=\"0\" /\u003e\u003cscript\u003e\r\n\tjQuery(function(){jQuery(\"#RentInflation\").kendoNumericTextBox({\"format\":\"p2\",\"decimals\":4});});\r\n\u003c/script\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"RentInflation\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"
        }, {
          "title": "Every Year?",
          "attributes": {
            "style": "text-align:right;"
          },
          "headerAttributes": {
            "data-field": "ShouldRaiseRentAnnually",
            "data-title": "Every Year?",
            "data-groupable": "false"
          },
          "width": "100px",
          "template": "#: ShouldRaiseRentAnnually ? \u0027yes\u0027 : \u0027no\u0027 #",
          "lockable": false,
          "field": "ShouldRaiseRentAnnually",
          "groupable": false,
          "encoded": true,
          "editor": "\u003cinput class=\"check-box\" data-val=\"true\" data-val-required=\"The Should Raise Rent Annually field is required.\" id=\"ShouldRaiseRentAnnually\" name=\"ShouldRaiseRentAnnually\" type=\"checkbox\" value=\"true\" /\u003e\u003cinput name=\"ShouldRaiseRentAnnually\" type=\"hidden\" value=\"false\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"ShouldRaiseRentAnnually\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"
        }, {
          "title": "Standard Term (M)",
          "attributes": {
            "style": "text-align:right;"
          },
          "headerAttributes": {
            "data-field": "StandardLeaseTerm",
            "data-title": "Standard Term (M)"
          },
          "width": "145px",
          "lockable": false,
          "field": "StandardLeaseTerm",
          "encoded": true,
          "editor": "\u003cinput data-val=\"true\" data-val-number=\"The field Standard Lease Term must be a number.\" data-val-required=\"The Standard Lease Term field is required.\" id=\"StandardLeaseTerm\" max=\"120\" min=\"1\" name=\"StandardLeaseTerm\" step=\"3\" style=\"width:100%\" type=\"text\" value=\"0\" /\u003e\u003cscript\u003e\r\n\tjQuery(function(){jQuery(\"#StandardLeaseTerm\").kendoNumericTextBox({\"format\":\"n0\",\"decimals\":0});});\r\n\u003c/script\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"StandardLeaseTerm\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"
        }, {
          "title": "Months Vacant",
          "attributes": {
            "style": "text-align:right;"
          },
          "headerAttributes": {
            "data-field": "MonthsVacant",
            "data-title": "Months Vacant",
            "data-groupable": "false"
          },
          "width": "125px",
          "lockable": false,
          "field": "MonthsVacant",
          "groupable": false,
          "encoded": true,
          "editor": "\u003cinput data-val=\"true\" data-val-number=\"The field Months Vacant must be a number.\" data-val-required=\"The Months Vacant field is required.\" id=\"MonthsVacant\" max=\"12\" min=\"0\" name=\"MonthsVacant\" step=\"1\" style=\"width:100%\" type=\"text\" value=\"0\" /\u003e\u003cscript\u003e\r\n\tjQuery(function(){jQuery(\"#MonthsVacant\").kendoNumericTextBox({\"format\":\"n0\",\"decimals\":0});});\r\n\u003c/script\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"MonthsVacant\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"
        }, {
          "title": "Turnover Costs",
          "attributes": {
            "style": "text-align:right;"
          },
          "headerAttributes": {
            "data-field": "TurnoverCosts",
            "data-title": "Turnover Costs",
            "data-groupable": "false"
          },
          "width": "125px",
          "lockable": false,
          "field": "TurnoverCosts",
          "format": "{0:C0}",
          "groupable": false,
          "encoded": true,
          "editor": "\u003cinput data-val=\"true\" data-val-number=\"The field Turnover Costs must be a number.\" data-val-required=\"The Turnover Costs field is required.\" id=\"TurnoverCosts\" min=\"0\" name=\"TurnoverCosts\" step=\"50\" style=\"width:100%\" type=\"text\" value=\"0\" /\u003e\u003cscript\u003e\r\n\tjQuery(function(){jQuery(\"#TurnoverCosts\").kendoNumericTextBox({\"format\":\"c0\",\"decimals\":0});});\r\n\u003c/script\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"TurnoverCosts\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"
        }, {
          "title": "Renovation Costs",
          "attributes": {
            "style": "text-align:right;"
          },
          "headerAttributes": {
            "data-field": "RenovationCosts",
            "data-title": "Renovation Costs",
            "data-groupable": "false"
          },
          "width": "145px",
          "lockable": false,
          "field": "RenovationCosts",
          "format": "{0:C0}",
          "groupable": false,
          "encoded": true,
          "editor": "\u003cinput data-val=\"true\" data-val-number=\"The field Renovation Costs must be a number.\" data-val-required=\"The Renovation Costs field is required.\" id=\"RenovationCosts\" min=\"0\" name=\"RenovationCosts\" step=\"100\" style=\"width:100%\" type=\"text\" value=\"0\" /\u003e\u003cscript\u003e\r\n\tjQuery(function(){jQuery(\"#RenovationCosts\").kendoNumericTextBox({\"format\":\"c0\",\"decimals\":0});});\r\n\u003c/script\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"RenovationCosts\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"
        }, {
          "title": "Costs Change (%/Y)",
          "attributes": {
            "style": "text-align:right;"
          },
          "headerAttributes": {
            "data-field": "CostInflation",
            "data-title": "Costs Change (%/Y)",
            "data-groupable": "false"
          },
          "width": "150px",
          "lockable": false,
          "field": "CostInflation",
          "format": "{0:P2}",
          "groupable": false,
          "encoded": true,
          "editor": "\u003cinput data-val=\"true\" data-val-number=\"The field Cost Inflation must be a number.\" data-val-required=\"The Cost Inflation field is required.\" id=\"CostInflation\" max=\"10\" min=\"0\" name=\"CostInflation\" step=\"0.0025\" style=\"width:100%\" type=\"text\" value=\"0\" /\u003e\u003cscript\u003e\r\n\tjQuery(function(){jQuery(\"#CostInflation\").kendoNumericTextBox({\"format\":\"p2\",\"decimals\":4});});\r\n\u003c/script\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"CostInflation\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"
        }],
        "pageable": {
          "refresh": true,
          "buttonCount": 10
        },
        "sortable": true,
        "scrollable": {
          "height": "200px"
        },
        "editable": {
          "confirmation": "Are you sure you want to delete this record?",
          "confirmDelete": "Delete",
          "cancelDelete": "Cancel",
          "mode": "incell",
          "template": null,
          "create": true,
          "update": true,
          "destroy": true
        },
        "toolbar": {
          "command": ["save", "cancel"]
        },
        "messages": {
          "noRecords": "No records available."
        },
        "dataSource": {
          transport: {
            useTransaction: false,
            read: function(options) {
              options.success(
                {
                  "odata.count":"1","value":[
                    {
                      "FloorPlan":{
                        "Id":"00ffaedf-11b8-4f0b-81ea-e0bfa94b7f9c",
                        "PropertyId":"cc578123-3673-43db-87c0-25ae2f00e3df",
                        "CreatedById":"4e60e633-0f43-4eae-8b2b-4e976f3bed02",
                        "Name":"2+11",
                        "SquareFootage":650,
                        "Bedrooms":"2.0",
                        "Bathrooms":"1.0",
                        "Notes":null,
                        "TotalUnits":12,
                        "DateCreated":"2015-08-26T21:42:49.293",
                        "DateUpdated":"2015-09-11T12:22:26.193"
                      },"Id":"c2704ac5-f85b-4b9d-9f49-b25cf6501098",
                      "ScenarioId":"ac4c606d-bdce-49f4-9c61-2266d78e8cac",
                      "FloorPlanId":"00ffaedf-11b8-4f0b-81ea-e0bfa94b7f9c",
                      "MarketRent":"1265.0000",
                      "RentInflation":"0.03",
                      "ShouldRaiseRentAnnually":true,
                      "StandardLeaseTerm":36,
                      "MonthsVacant":1,
                      "TurnoverCosts":"250.0000",
                      "RenovationCosts":"1500.0000",
                      "RenovationTime":0,
                      "CostInflation":"0.03",
                      "DateCreated":"2015-09-06T02:42:49.34",
                      "DateUpdated":"2016-04-20T07:01:05.843"
                    }
                  ]
                });
            },
            submit: function(e) {
              e.success([
                {
                  "Id":"c2704ac5-f85b-4b9d-9f49-b25cf6501098",
                  "ScenarioId":"ac4c606d-bdce-49f4-9c61-2266d78e8cac",
                  "FloorPlanId":"00ffaedf-11b8-4f0b-81ea-e0bfa94b7f9c",
                  "MarketRent":"1290",
                  "RentInflation":"0.03",
                  "ShouldRaiseRentAnnually":true,
                  "StandardLeaseTerm":36,
                  "MonthsVacant":1,
                  "TurnoverCosts":"250",
                  "RenovationCosts":"1500",
                  "RenovationTime":0,
                  "CostInflation":"0.03",
                  "DateCreated":"2015-09-06T06:42:49.34Z",
                  "DateUpdated":"2016-04-20T07:52:11.3638222+00:00"
                }
              ], 'update');
            }
          },

          "pageSize": 50,
          "page": 1,
          "total": 0,
          "serverPaging": true,
          "serverSorting": true,
          "serverFiltering": true,
          "serverGrouping": true,
          "serverAggregates": true,
          "sort": [{
            "field": "FloorPlan.Bedrooms",
            "dir": "asc"
          }, {
            "field": "FloorPlan.Bathrooms",
            "dir": "asc"
          }, {
            "field": "FloorPlan.Name",
            "dir": "asc"
          }],
          "filter": [],
          /*
             "change": function(e) {
             ledgersDataSourceChange("#leasingGrid", e);
             },
             "error": handleKendoError,
             "sync": function(e) {
             ledgersDataSourceSync("#leasingGrid", e);
             },
           */
          "schema": {
            "data": kendo.data.schemas['odata'].data,
            "total": "[\u0027odata.count\u0027]",
            "errors": "[\u0027odata.error\u0027]",
            "model": {
              "id": "Id",
              "fields": {
                "Id": {
                  "editable": false,
                  "type": "string"
                },
                "ScenarioId": {
                  "type": "string"
                },
                "FloorPlanId": {
                  "editable": false,
                  "type": "string"
                },
                "MarketRent": {
                  "type": "number"
                },
                "RentInflation": {
                  "type": "number"
                },
                "ShouldRaiseRentAnnually": {
                  "type": "boolean"
                },
                "StandardLeaseTerm": {
                  "type": "number"
                },
                "MonthsVacant": {
                  "type": "number"
                },
                "TurnoverCosts": {
                  "type": "number"
                },
                "RenovationCosts": {
                  "type": "number"
                },
                "RenovationTime": {
                  "type": "number"
                },
                "CostInflation": {
                  "type": "number"
                },
                "DateCreated": {
                  "type": "date"
                },
                "DateUpdated": {
                  "type": "date"
                },
                "FloorPlan": {
                  "type": "object"
                },
                "Scenario": {
                  "type": "object"
                },
                "FloorPlan.Name": {
                  "editable": false,
                  "type": "string"
                },
                "FloorPlan.Bedrooms": {
                  "editable": false,
                  "type": "number"
                },
                "FloorPlan.Bathrooms": {
                  "editable": false,
                  "type": "number"
                },
                "FloorPlan.SquareFootage": {
                  "editable": false,
                  "type": "number"
                }
              }
            }
          },
          "batch": true
        },
        "navigatable": true
      });

    </script>
  </body>
</html>
